javascript:(function(){var qrcode=function(hs,src){var ele=document.createElement("img"),target=document.getElementById(hs);if(target){document.body.removeChild(target)}else{ele.setAttribute("src",src);var h=window.screen.availHeight,w=window.screen.availWidth,r_h=0;if(h>150&&w>150)r_h=(h<w?h:w)-150;else r_h=h;ele.setAttribute("style","margin:0 auto;display:block;z-index:9999999;position:relative;width:auto;max-height:"+r_h+"px");ele.setAttribute("id",hs);document.body.insertBefore(ele,document.body.firstChild);window.scrollTo(0,0)}};var store=function(id,src){if(window.localStorage){var target="qrcode_"+id;var freq=localStorage["freq"];if(freq){freq=JSON.parse(freq)}else{freq=[]}if(localStorage[target]&&src===undefined){var index=freq.indexOf(id);if(index>0){freq=[id].concat(freq.slice(0,index),freq.slice(index+1));localStorage["freq"]=JSON.stringify(freq)}return localStorage[target]}else if(!localStorage[target]&&src){if(freq.length<20){freq=[id].concat(freq)}else{localStorage.removeItem("qrcode_"+freq.slice(-1)[0]);freq=[id].concat(freq.slice(0,-1))}localStorage["freq"]=JSON.stringify(freq);localStorage[target]=src}}};var request=function(hs){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState===4&&a.status===200){var data=JSON.parse(a.responseText);if(data.msg){alert(data.msg)}else{qrcode(hs,data.src);store(hs,data.src)}}};a.open("GET","https://static.hellflame.net/qrcode/generator?href="+encodeURIComponent(window.location.href));a.send()};function hash(str){var result=0,tab=[4660,9029,13398,17767,22136,30874,35243,39612,43981,48350,52719];for(var i=0;i<str.length;i++){result=33*result+str.charCodeAt(i)^(i>0?str.charCodeAt(i-1):66)+tab[i%tab.length]}return Math.abs(result).toString(16)}var hs=hash(encodeURIComponent(window.location.href));if(store(hs)){qrcode(hs,store(hs))}else{request(hs)}})();